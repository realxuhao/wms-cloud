<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bosch.product.mapper.ShippingPlanMapper">

    <resultMap id="BaseResultMap" type="com.bosch.product.api.domain.ShippingPlan">
            <id property="id" column="id" jdbcType="BIGINT"/>
            <result property="shippingMark" column="shipping_mark" jdbcType="VARCHAR"/>
            <result property="etoPo" column="eto_po" jdbcType="VARCHAR"/>
            <result property="etoPlant" column="eto_plant" jdbcType="VARCHAR"/>
            <result property="stockMovementDate" column="stock_movement_date" jdbcType="VARCHAR"/>
            <result property="country" column="country" jdbcType="VARCHAR"/>
            <result property="prodOrder" column="prod_order" jdbcType="VARCHAR"/>
            <result property="qty" column="qty" jdbcType="INTEGER"/>
            <result property="isDisassembled" column="is_disassembled" jdbcType="VARCHAR"/>
            <result property="tr" column="tr" jdbcType="VARCHAR"/>
            <result property="sapCode" column="sap_code" jdbcType="VARCHAR"/>
            <result property="palletQuantity" column="pallet_quantity" jdbcType="VARCHAR"/>
            <result property="afterPacking" column="after_packing" jdbcType="VARCHAR"/>
        <result property="createBy" column="create_by" jdbcType="VARCHAR"/>
        <result property="updateBy" column="update_by" jdbcType="VARCHAR"/>
        <result property="createTime" column="create_time" jdbcType="TIMESTAMP"/>
        <result property="updateTime" column="update_time" jdbcType="TIMESTAMP"/>
        <result property="status" column="status" jdbcType="INTEGER"/>
        <result property="deleteFlag" column="delete_flag" jdbcType="INTEGER"/>
    </resultMap>

    <sql id="Base_Column_List">
        id,shipping_mark,eto_po,
        eto_plant,stock_movement_date,country,
        prod_order,qty,is_disassembled,
        tr,sap_code,pallet_quantity,
        after_packing,create_by,
        update_by,create_time,update_time,
        status,delete_flag
    </sql>

    <update id="deletePlan" parameterType="Long[]">
        update shipping_plan
        set delete_flag='1' where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </update>


    <update id="updatePlan" parameterType="ShippingPlanDTO">
        update shipping_plan
        set update_by=#{updateBy},
        update_time=#{updateTime},
        total_quantity=#{totalQuantity},
        min_quantity=#{minQuantity}
        where id=#{id} and delete_flag=0
    </update>


</mapper>
